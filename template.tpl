___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "2BCookie Consent Manager",
  "categories": [
    "TAG_MANAGEMENT",
    "PERSONALIZATION"
  ],
  "brand": {
    "id": "github.com_2B-Advice",
    "displayName": "2B-Advice",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "2BCookie Consent Manager enables your website or app to be compliant with the GDPR and consumer data regulations by collecting and handling consumer consent. More on https://www.2b-advice.com.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "statementId",
    "displayName": "Statement Id",
    "simpleValueType": true,
    "notSetText": "Please enter the \"Statement Id\" found in 2B Advice PrIME application under your statement\u0027s \"Settings\" tab page inside \"Cookie Consent Dialog script\" block. The Id has following format: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX.",
    "help": "Statement Id found in 2B Advice PrIME application under your Cookie statement.",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "REGEX",
        "args": [
          "^[{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?$"
        ]
      }
    ],
    "valueHint": "Your statement id"
  },
  {
    "type": "SELECT",
    "name": "language",
    "displayName": "Language",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "auto",
        "displayValue": "Default (auto-detect)"
      },
      {
        "value": "variable",
        "displayValue": "Custom GTM variable"
      }
    ],
    "simpleValueType": true,
    "help": "Select how 2BCookie determines which language will be used for the consent banner."
  },
  {
    "type": "TEXT",
    "name": "languageVar",
    "displayName": "Language variable",
    "simpleValueType": true,
    "help": "Select a variable that returns a two letter ISO language code. In 2B Advice PrIME, create a cookie statement in all languages that are supported in your website.",
    "enablingConditions": [
      {
        "paramName": "language",
        "paramValue": "variable",
        "type": "EQUALS"
      }
    ],
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "defaultConsent",
    "displayName": "Default Google Consent State",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "SELECT",
        "name": "marketingDefaultState",
        "displayName": "Marketing category (consent type ad_storage, ad_user_data, ad_personalization)",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "denied",
            "displayValue": "Denied"
          },
          {
            "value": "granted",
            "displayValue": "Granted"
          }
        ],
        "simpleValueType": true,
        "help": "Select default consent state for marketing category",
        "defaultValue": "denied"
      },
      {
        "type": "SELECT",
        "name": "statisticsDefaultState",
        "displayName": "Statistics category (consent type analytics_storage)",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "denied",
            "displayValue": "Denied"
          },
          {
            "value": "granted",
            "displayValue": "Granted"
          }
        ],
        "simpleValueType": true,
        "help": "Select default consent state for statistics category",
        "defaultValue": "denied"
      },
      {
        "type": "SELECT",
        "name": "preferencesDefaultState",
        "displayName": "Preferences category (consent types functionality_storage and personalization_storage)",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "denied",
            "displayValue": "Denied"
          },
          {
            "value": "granted",
            "displayValue": "Granted"
          }
        ],
        "simpleValueType": true,
        "help": "Select default consent state for preferences category",
        "defaultValue": "denied"
      }
    ],
    "help": "Default state of the Google Consent before user takes any action in the cookie banner."
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const encodeUriComponent = require('encodeUriComponent');
const queryPermission = require('queryPermission');
const setDefaultConsentState =require('setDefaultConsentState');
const statementId = data.statementId;
const language = data.language;

let scriptUrl = 'https://2badvicecdn.blob.core.windows.net/psf/js/bb-manager.js?bbcid=' + encodeUriComponent(statementId);

if (language === 'variable')
{
  scriptUrl += '&language=' + encodeUriComponent(data.languageVar);
}

setDefaultConsentState({
  'ad_storage': data.marketingDefaultState,
  'ad_user_data': data.marketingDefaultState,
  'ad_personalization':data.marketingDefaultState,
  'analytics_storage': data.statisticsDefaultState,
  'functionality_storage': data.preferencesDefaultState,
  'personalization_storage': data.preferencesDefaultState,
  'ads_data_redaction': data.marketingDefaultState == 'granted' ? false : true,
  'security_storage': 'granted',
  'wait_for_update': 500
});

if (queryPermission('inject_script', scriptUrl)) {
  injectScript(scriptUrl, data.gtmOnSuccess, data.gtmOnFailure);
} else {
  data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://*.windows.net/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_consent",
        "versionId": "1"
      },
      "param": [
        {
          "key": "consentTypes",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "analytics_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "functionality_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "personalization_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "security_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "wait_for_update"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_user_data"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_personalization"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ads_data_redaction"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 7/28/2021, 2:03:39 PM


